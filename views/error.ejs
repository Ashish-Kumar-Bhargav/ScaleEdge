<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/stylesheets/style.css" />

    <title>Scaleegde</title>
</head>

<body>
    <div class="container">
        <div class="forms-container">
            <div class="signin-signup">
                <form action="/auth_reg" method="post" class="sign-in-form" id="companyForm">
                    <h2 class="title">Register</h2>
                    <div class="input-field">
                        <i class="fa fa-briefcase"></i>
                        <input type="text" id="company_name" name="company_name" placeholder="Company Name" required
                            oninvalid="this.setCustomValidity('Please Enter the Company Name')"
                            oninput="this.setCustomValidity('')" />
                    </div>
                    <div class="input-field">
                        <i class='fas fa-user-alt'></i>
                        <input type="text" id="name" name="name" placeholder="User Name" required
                            oninvalid="this.setCustomValidity('Please Enter the user Name')"
                            oninput="this.setCustomValidity('')" />
                    </div>
                    <div class="input-field">
                        <i class="fa fa-address-card-o"></i>
                        <input type="text" id="address" name="address" placeholder="Address" required
                            oninvalid="this.setCustomValidity('Please Enter the Address')"
                            oninput="this.setCustomValidity('')" />
                    </div>

                    <div class="input-field">
                        <i class="fa fa-envelope"></i>
                        <input type="email" id="email" name="email" placeholder="E-mail" required
                            oninvalid="this.setCustomValidity('Please Enter the E-Mail')"
                            oninput="this.setCustomValidity('')" />
                    </div>
                    <div class="input-field">
                        <i class='fas fa-mobile-alt'></i>
                        <input type="number" id="mobile" name="mobile" placeholder="Mobile" required
                            oninvalid="this.setCustomValidity('Please Enter the Mobile')"
                            oninput="this.setCustomValidity('')" />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="password" name="password" placeholder="Password" required
                            oninvalid="this.setCustomValidity('Please Enter the Password')"
                            oninput="this.setCustomValidity('')" />
                    </div>
                    <div class="input-field">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="cpassword" name="cpassword" placeholder="Confirm Password" required
                            oninvalid="this.setCustomValidity('Please Enter the Confirm Password')"
                            oninput="this.setCustomValidity('')" />
                    </div>
                    <button type="submit" class="btn">Register</button>
                </form>
            </div>
        </div>
        <div class="panels-container">
            <div class="panel left-panel">
                <div class="content">
                    <h3>New here?</h3>
                    <p>
                        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Debitis,
                        ex ratione. Aliquid!
                    </p>
                </div>
                <img src="images/register.svg" class="image" alt="" />
            </div>
            <div class="panel right-panel">
                <div class="content">
                    <h3>One of us?</h3>
                    <p>
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum
                        laboriosam ad deleniti.
                    </p>
                </div>
                <img src="images/register.svg" class="image" alt="" />
            </div>
        </div>
    </div>


</body>

</html>

<script>
    function validateCompanyForm() {
        const form = document.getElementById("companyForm");
        const email = form.elements.email.value.trim();
        const password = form.elements.password.value;
        const confirmPassword = form.elements.cpassword.value;

        let isValid = true;

        if (email === "") {
            markFieldAsInvalid(form.elements.email, "Please enter the email.");
            isValid = false;
        } else if (!validateEmail(email)) {
            markFieldAsInvalid(form.elements.email, "Please enter a valid email address.");
            isValid = false;
        }

        if (password === "") {
            markFieldAsInvalid(form.elements.password, "Please enter the password.");
            isValid = false;
        }

        if (confirmPassword === "") {
            markFieldAsInvalid(form.elements.cpassword, "Please confirm the password.");
            isValid = false;
        } else if (password !== confirmPassword) {
            markFieldAsInvalid(form.elements.cpassword, "Passwords do not match.");
            isValid = false;
        }

        return isValid;
    }

    function markFieldAsInvalid(field, errorMessage) {
        field.parentNode.classList.add("invalid");
        field.setAttribute("data-error", errorMessage);
    }

    function validateEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }

    document.getElementById("companyForm").addEventListener("submit", function (e) {
        if (!validateCompanyForm()) {
            e.preventDefault();
            alert("Password do not match.");
        }
    });
</script>